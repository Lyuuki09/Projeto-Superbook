{% extends 'base.html' %}

{% block title %}Lista de Posts - SuperBook{% endblock %}

{% block content %}
<div class="container">
  <h2 class="mb-4">ğŸ“ Posts dos HerÃ³is</h2>

  <a href="{% url 'criar_post' %}" class="btn btn-success mb-3">â• Novo Post</a>

  {% if posts %}
    <ul class="list-group">
      {% for post in posts %}
        <li class="list-group-item">
          <div class="d-flex w-100 justify-content-between align-items-start">
            <div class="flex-grow-1">
              <h5 class="mb-1">ğŸ¦¸â€â™‚ï¸ {{ post.autor.codinome }}</h5>
              <p class="mb-2">{{ post.mensagem|linebreaksbr }}</p>
              <small class="text-muted">{{ post.criado_em|date:"d/m/Y H:i" }}</small>
            </div>
            <div class="btn-group ms-2">
              <a href="{% url 'post_detail' post.pk %}" class="btn btn-sm btn-outline-info" title="Ver detalhes">ğŸ‘ï¸</a>
              <a href="{% url 'editar_post' post.pk %}" class="btn btn-sm btn-outline-primary" title="Editar">âœï¸</a>
              <a href="{% url 'excluir_post' post.pk %}" class="btn btn-sm btn-outline-danger" title="Excluir">ğŸ—‘ï¸</a>
            </div>
          </div>
        </li>
      {% endfor %}
    </ul>
  {% else %}
    <div class="alert alert-secondary">Nenhum post publicado ainda. <a href="{% url 'criar_post' %}">Crie um!</a></div>
  {% endif %}
</div>
{% endblock %}